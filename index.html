<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Plataforma de Conhecimento ‚Äî Prot√≥tipo</title>
  <!-- Tailwind via CDN (somente para prot√≥tipo) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Chart.js para gr√°fico de progresso -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Mermaid para diagrama de arquitetura (mantido, mas n√£o usado) -->
  <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
  <script>mermaid.initialize({ startOnLoad: true, theme: 'default' });</script>
  <style>
    html { scroll-behavior: smooth; }
    .glass { backdrop-filter: blur(8px); background: rgba(15,23,42,.85); }

    /* Fundo roxo + preto com vibe tech */
    body {
      background: radial-gradient(circle at 0% 0%, #4c1d95 0, transparent 55%),
                  radial-gradient(circle at 100% 0%, #0ea5e9 0, transparent 55%),
                  radial-gradient(circle at 50% 100%, #020617 0, #020617 60%);
      color: #e5e7eb;
    }

    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background:
        radial-gradient(circle at 10% 20%, rgba(168,85,247,0.20) 0, transparent 55%),
        radial-gradient(circle at 80% 0%, rgba(56,189,248,0.20) 0, transparent 60%),
        radial-gradient(circle at 50% 100%, rgba(15,23,42,0.9) 0, transparent 65%);
      opacity: 0.9;
      z-index: -1;
      pointer-events: none;
    }
  </style>
</head>
<body class="min-h-screen text-slate-100">
  <!-- NAVBAR -->
  <header class="sticky top-0 z-50 glass border-b border-slate-800/60">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <a href="#home" class="font-bold text-lg text-violet-200">T-Easy</a>
      <nav class="hidden md:flex gap-6 text-sm">
        <a href="#home" class="hover:text-violet-300">In√≠cio</a>
        <a href="#teste" class="hover:text-violet-300">Teste de √Årea</a>
        <a href="#trilhas" class="hover:text-violet-300">Trilhas</a>
        <a href="#qa" class="hover:text-violet-300">Perguntas</a>
        <a href="#maker" class="hover:text-violet-300">Maker</a>
        <a href="#badges" class="hover:text-violet-300">Progresso</a>
      </nav>
      <button id="btnMobile" class="md:hidden p-2 rounded border border-slate-600" aria-label="Abrir menu">‚ò∞</button>
    </div>
    <div id="mobileMenu" class="md:hidden hidden px-4 pb-4">
      <div class="flex flex-col gap-2 text-sm">
        <a href="#home" class="hover:text-violet-300">In√≠cio</a>
        <a href="#teste" class="hover:text-violet-300">Teste de √Årea</a>
        <a href="#trilhas" class="hover:text-violet-300">Trilhas</a>
        <a href="#qa" class="hover:text-violet-300">Perguntas</a>
        <a href="#maker" class="hover:text-violet-300">Maker</a>
        <a href="#badges" class="hover:text-violet-300">Progresso</a>
      </div>
    </div>
  </header>

  <!-- HERO / HOME -->
  <section id="home" class="relative overflow-hidden">
    <div class="max-w-6xl mx-auto px-4 py-20 grid md:grid-cols-2 gap-10 items-center">
      <div>
        <h1 class="text-3xl md:text-5xl font-extrabold leading-tight mb-4">
          T-Easy ‚Äî Seu come√ßo no TI n√£o precisa ser dif√≠cil.
        </h1>
        <p class="text-slate-300 mb-6">
          Descubra sua √°rea, siga trilhas guiadas, pergunte √† vontade e ganhe badges de progresso.
          Um espa√ßo acolhedor para voc√™ entrar no mundo da tecnologia sem medo de fazer perguntas.
        </p>
        <div class="flex gap-3">
          <a href="#teste" class="inline-block bg-violet-600 text-white px-5 py-3 rounded-xl shadow-lg shadow-violet-900/60 hover:bg-violet-500">
            Fazer Teste de √Årea
          </a>
          <a href="#trilhas" class="inline-block bg-slate-900/70 border border-slate-600 px-5 py-3 rounded-xl hover:border-violet-400">
            Ver Trilhas
          </a>
        </div>
      </div>

      <!-- Lado direito remodelado: ‚Äú3D tech brain‚Äù -->
      <div class="relative flex items-center justify-center">
        <!-- glow de fundo -->
        <div class="absolute -top-20 -right-10 w-64 h-64 bg-gradient-to-tr from-violet-500 via-fuchsia-500 to-sky-400 rounded-full blur-3xl opacity-60"></div>
        <div class="absolute -bottom-16 -left-10 w-52 h-52 bg-gradient-to-tr from-sky-500 via-violet-600 to-indigo-500 rounded-full blur-3xl opacity-40"></div>

        <!-- ‚Äúcard 3D‚Äù -->
        <div class="relative bg-gradient-to-br from-slate-900 via-slate-950 to-black border border-violet-500/40 rounded-3xl p-6 shadow-2xl shadow-violet-900/70 transform hover:-translate-y-1 hover:shadow-violet-700/80 transition">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-12 h-12 rounded-2xl bg-gradient-to-br from-violet-500 to-fuchsia-500 flex items-center justify-center text-3xl">
              üß†
            </div>
            <div>
              <p class="text-xs uppercase tracking-wide text-violet-300">Mindset Tech</p>
              <p class="text-sm text-slate-200">Aprendizado guiado para iniciantes em TI</p>
            </div>
          </div>

          <p class="text-sm text-slate-300 mb-4">
            Representa√ß√£o visual da ideia da T-Easy: um c√©rebro em modo tecnologia, evoluindo aos poucos,
            trilha por trilha, sem press√£o e sem julgamentos.
          </p>

          <div class="grid grid-cols-2 gap-3 text-[10px] font-mono text-violet-200">
            <div class="space-y-1">
              <p class="uppercase tracking-wide text-violet-300/90">Stack inicial</p>
              <p>HTML ‚Ä¢ CSS ‚Ä¢ JS</p>
              <p>GitHub Pages</p>
              <p>LocalStorage</p>
            </div>
            <div class="space-y-1">
              <p class="uppercase tracking-wide text-violet-300/90">Trilhas</p>
              <p>dev ‚Ä¢ infra</p>
              <p>cloud ‚Ä¢ obs</p>
              <p>dados</p>
            </div>
          </div>

          <div class="mt-4 text-[10px] text-slate-400 border-t border-slate-700 pt-3">
            <p>1010 0110 ‚Ä¢ l√≥gica ‚Ä¢ curiosidade ‚Ä¢ const√¢ncia ‚Ä¢ comunidade</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- TESTE DE √ÅREA -->
  <section id="teste" class="max-w-6xl mx-auto px-4 py-16">
    <div class="flex items-center justify-between mb-6">
      <h2 class="text-2xl md:text-3xl font-bold">Teste de √Årea de Interesse</h2>
      <button id="btnResetQuiz" class="text-sm underline text-violet-300">Limpar respostas</button>
    </div>
    <form id="quiz" class="bg-slate-900/80 border border-slate-700 rounded-2xl p-6 shadow-lg grid gap-6">
      <!-- Quest√µes -->
      <div class="grid md:grid-cols-2 gap-6">
        <div>
          <label class="font-semibold">1) O que te anima mais?</label>
          <select class="mt-2 w-full border border-slate-700 bg-slate-900 rounded-lg p-2 text-sm" name="q1" required>
            <option value="">Selecione...</option>
            <option value="dev">Criar aplica√ß√µes e interfaces</option>
            <option value="infra">Montar e manter ambientes</option>
            <option value="cloud">Automatizar e escalar na nuvem</option>
            <option value="obs">Observar performance e logs</option>
            <option value="dados">Entender dados e m√©tricas</option>
          </select>
        </div>
        <div>
          <label class="font-semibold">2) Prefer√™ncia de atividade</label>
          <select class="mt-2 w-full border border-slate-700 bg-slate-900 rounded-lg p-2 text-sm" name="q2" required>
            <option value="">Selecione...</option>
            <option value="dev">Codificar features</option>
            <option value="infra">Configurar redes/servi√ßos</option>
            <option value="cloud">Infra como c√≥digo</option>
            <option value="obs">Dashboards e alertas</option>
            <option value="dados">An√°lises e relat√≥rios</option>
          </select>
        </div>
        <div>
          <label class="font-semibold">3) Ferramentas que te atraem</label>
          <select class="mt-2 w-full border border-slate-700 bg-slate-900 rounded-lg p-2 text-sm" name="q3" required>
            <option value="">Selecione...</option>
            <option value="dev">React, Node.js</option>
            <option value="infra">Linux, Docker</option>
            <option value="cloud">Terraform, AWS/GCP</option>
            <option value="obs">Datadog, Prometheus</option>
            <option value="dados">SQL, Python</option>
          </select>
        </div>
        <div>
          <label class="font-semibold">4) Tipo de problema</label>
          <select class="mt-2 w-full border border-slate-700 bg-slate-900 rounded-lg p-2 text-sm" name="q4" required>
            <option value="">Selecione...</option>
            <option value="dev">UX e funcionalidades</option>
            <option value="infra">Disponibilidade</option>
            <option value="cloud">Escalabilidade</option>
            <option value="obs">Confiabilidade</option>
            <option value="dados">Tomada de decis√£o</option>
          </select>
        </div>
      </div>
      <button class="bg-violet-600 text-white px-5 py-3 rounded-xl w-max hover:bg-violet-500 shadow-md shadow-violet-900/60">
        Ver Resultado
      </button>
      <p id="quizResult" class="hidden p-4 rounded-xl bg-violet-950/60 text-violet-50 border border-violet-600"></p>
    </form>
  </section>

  <!-- TRILHAS DE APRENDIZADO -->
  <section id="trilhas" class="max-w-6xl mx-auto px-4 py-16">
    <h2 class="text-2xl md:text-3xl font-bold mb-6">Trilhas de Aprendizado</h2>
    <p class="text-slate-300 text-sm mb-4">Clique em cada t√≥pico para abrir um material recomendado (curso, documenta√ß√£o ou tutorial).</p>
    <div id="tracks" class="grid md:grid-cols-2 gap-6"></div>
  </section>

  <!-- PERGUNTAS E RESPOSTAS -->
  <section id="qa" class="max-w-6xl mx-auto px-4 py-16">
    <div class="grid md:grid-cols-2 gap-8 items-start">
      <div>
        <h2 class="text-2xl md:text-3xl font-bold mb-2">Pergunte sem medo</h2>
        <p class="text-slate-300 mb-4">
          Aqui ningu√©m julga. Fa√ßa uma pergunta e receba uma resposta clara e acolhedora.
        </p>
        <form id="qaForm" class="bg-slate-900/80 border border-slate-700 rounded-2xl p-6 shadow-lg grid gap-4">
          <input name="nome" placeholder="Seu nome (opcional)" class="border border-slate-700 bg-slate-900 rounded-lg p-2 text-sm" />
          <textarea name="pergunta" required placeholder="Escreva sua pergunta..." class="border border-slate-700 bg-slate-900 rounded-lg p-2 h-28 text-sm"></textarea>
          <button class="bg-violet-600 text-white px-5 py-3 rounded-xl w-max hover:bg-violet-500 shadow-md shadow-violet-900/60">
            Enviar
          </button>
          <p id="qaFeedback" class="hidden text-green-400 text-sm">Pergunta enviada! (salva localmente)</p>
        </form>
      </div>
      <div>
        <h3 class="font-semibold mb-3">Perguntas recentes</h3>
        <ul id="qaList" class="space-y-3"></ul>
      </div>
    </div>
  </section>

  <!-- CULTURA MAKER / PROJETOS PR√ÅTICOS -->
  <section id="maker" class="max-w-6xl mx-auto px-4 py-16">
    <h2 class="text-2xl md:text-3xl font-bold mb-6">Cultura Maker & Projetos Pr√°ticos</h2>
    <div class="grid md:grid-cols-3 gap-6">
      <article class="bg-slate-900/80 border border-slate-700 rounded-2xl p-5 shadow">
        <h4 class="font-semibold mb-2">Projeto 1: P√°gina Est√°tica</h4>
        <p class="text-sm text-slate-300">
          Crie uma landing page com HTML/CSS/JS e publique no GitHub Pages.
        </p>
      </article>
      <article class="bg-slate-900/80 border border-slate-700 rounded-2xl p-5 shadow">
        <h4 class="font-semibold mb-2">Projeto 2: Bot de Logs</h4>
        <p class="text-sm text-slate-300">
          Simule logs e gere um dashboard local com gr√°ficos.
        </p>
      </article>
      <article class="bg-slate-900/80 border border-slate-700 rounded-2xl p-5 shadow">
        <h4 class="font-semibold mb-2">Projeto 3: API Mock</h4>
        <p class="text-sm text-slate-300">
          Crie uma API fake com JSON Server para consumir no front.
        </p>
      </article>
    </div>
  </section>

  <!-- BADGES / PROGRESSO -->
  <section id="badges" class="max-w-6xl mx-auto px-4 py-16">
    <h2 class="text-2xl md:text-3xl font-bold mb-6">Seu Progresso</h2>
    <div class="grid md:grid-cols-2 gap-8 items-center">
      <div class="bg-slate-900/80 border border-slate-700 rounded-2xl p-6 shadow">
        <h3 class="font-semibold mb-3">Badges conquistados</h3>
        <div class="flex gap-2 flex-wrap" id="badgeList"></div>
      </div>
      <div class="bg-slate-900/80 border border-slate-700 rounded-2xl p-6 shadow">
        <h3 class="font-semibold mb-3">Gr√°fico de Progresso</h3>
        <canvas id="progressChart" width="400" height="400" aria-label="Gr√°fico de progresso" role="img"></canvas>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="border-t border-slate-800 mt-16">
    <div class="max-w-6xl mx-auto px-4 py-10 text-sm text-slate-400">
      <p>Prot√≥tipo educacional ‚Äî IniciaTI (PCA). v0.5</p>
    </div>
  </footer>

  <!-- SCRIPT DA P√ÅGINA -->
  <script>
    // ======= MENU MOBILE =======
    document.getElementById('btnMobile').addEventListener('click', () => {
      document.getElementById('mobileMenu').classList.toggle('hidden');
    });

    // ======= DADOS MOCKADOS =======
    const TRACKS = {
      dev: {
        titulo: 'Desenvolvimento (Front/Back)',
        passos: [
          {
            nome: 'L√≥gica de Programa√ß√£o & Git',
            url: 'https://www.rocketseat.com.br/discover'
          },
          {
            nome: 'HTML + CSS + JavaScript',
            url: 'https://www.ev.org.br/cursos/crie-um-site-simples-usando-html-css-e-javascript'
          },
          {
            nome: 'Node.js & APIs REST',
            url: 'https://cursa.app/pt/pagina/node-js-curso-completo-do-basico-ao-avancado'
          },
          {
            nome: 'Framework (React) ‚Äî b√°sico',
            url: 'https://cursa.app/pt/pagina/react-js-curso-completo'
          },
          {
            nome: 'Projeto: To-Do com persist√™ncia local',
            url: 'https://www.youtube.com/playlist?list=PLEuLN871skK7VRR-MVvkTC8eIlKL62Z0Q'
          }
        ]
      },
      infra: {
        titulo: 'Infraestrutura & Redes',
        passos: [
          {
            nome: 'Fundamentos de Sistemas Operacionais',
            url: 'https://www.ev.org.br/cursos/fundamentos-de-ti-hardware-e-software'
          },
          {
            nome: 'Linux b√°sico e Shell',
            url: 'https://www.cursoemvideo.com/curso/linux/'
          },
          {
            nome: 'Redes (TCP/IP, DNS, HTTP)',
            url: 'https://www.cursoemvideo.com/curso/redes-de-computadores/'
          },
          {
            nome: 'Virtualiza√ß√£o & Containers',
            url: 'https://www.cursou.com.br/informatica/descomplicando-docker/'
          },
          {
            nome: 'Projeto: Servidor web com Docker',
            url: 'https://www.cursou.com.br/informatica/programacao/docker/'
          }
        ]
      },
      cloud: {
        titulo: 'Cloud & DevOps',
        passos: [
          {
            nome: 'Conceitos de Nuvem (IaaS/PaaS/SaaS)',
            url: 'https://learn.microsoft.com/pt-br/training/paths/az-900-descrever-conceitos-de-nuvem/'
          },
          {
            nome: 'Docker & Compose',
            url: 'https://www.cursou.com.br/informatica/programacao/docker/'
          },
          {
            nome: 'Terraform ‚Äî fundamentos',
            url: 'https://guiadeti.com.br/cursos/youtube/minicurso-terraform/'
          },
          {
            nome: 'Pipelines CI/CD (GitHub Actions)',
            url: 'https://learn.microsoft.com/pt-br/training/paths/automate-workflow-github-actions/'
          },
          {
            nome: 'Projeto: IaC para uma API simples',
            url: 'https://www.alura.com.br/videos/terraform-no-google-cloud-c1495'
          }
        ]
      },
      obs: {
        titulo: 'Observabilidade',
        passos: [
          {
            nome: 'M√©tricas, Logs e Traces ‚Äî conceitos',
            url: 'https://www.datadoghq.com/metrics/'
          },
          {
            nome: 'Prometheus/Grafana ‚Äî no√ß√µes',
            url: 'https://prometheus.io/docs/introduction/overview/'
          },
          {
            nome: 'Integra√ß√µes (ex.: Datadog) ‚Äî vis√£o',
            url: 'https://docs.datadoghq.com/integrations/'
          },
          {
            nome: 'Alertas e Dashboards',
            url: 'https://docs.datadoghq.com/dashboards/'
          },
          {
            nome: 'Projeto: Coletar logs e gerar gr√°fico',
            url: 'https://cienciadedadosuff.github.io/cursos/notebooks/caderno-3.html'
          }
        ]
      },
      dados: {
        titulo: 'Dados & An√°lise',
        passos: [
          {
            nome: 'SQL ‚Äî fundamentos',
            url: 'https://pt.khanacademy.org/computing/computer-programming/sql'
          },
          {
            nome: 'Python para an√°lise (pandas)',
            url: 'https://asimov.academy/curso-gratuito-dados/'
          },
          {
            nome: 'Visualiza√ß√£o de dados',
            url: 'https://hub.asimov.academy/blog/matplotlib-visualizacao-de-dados/'
          },
          {
            nome: 'ETL/ELT ‚Äî vis√£o geral',
            url: 'https://cursa.app/pt/pagina/introducao-ao-big-data-com-python-visualizacao-de-dados-em-larga-escala-com-python-matplotlib-seaborn-plotly'
          },
          {
            nome: 'Projeto: Relat√≥rio com dataset p√∫blico',
            url: 'https://escoladedados.org/tutoriais/primeiros-passos-com-python-e-pandas-para-analise-de-dados/'
          }
        ]
      }
    };

    // ======= RENDER DE TRILHAS =======
    function renderTracks() {
      const wrapper = document.getElementById('tracks');
      wrapper.innerHTML = '';
      Object.entries(TRACKS).forEach(([key, trilha]) => {
        const card = document.createElement('article');
        card.className = 'bg-slate-900/80 border border-slate-700 rounded-2xl p-6 shadow flex flex-col';
        card.innerHTML = `
          <div class="flex items-start justify-between gap-3">
            <h3 class="font-semibold text-lg">${trilha.titulo}</h3>
            <button data-track="${key}" class="text-sm px-3 py-1 rounded-lg border border-slate-600 hover:border-violet-400 hover:bg-slate-900/80">Marcar como iniciada</button>
          </div>
          <ol class="mt-4 list-decimal list-inside space-y-2 text-sm text-slate-200">
            ${trilha.passos.map(p => `<li class="whitespace-normal"><a href="${p.url}" target="_blank" rel="noopener" class="inline-flex items-center gap-1 underline underline-offset-2 decoration-violet-400 hover:text-violet-200"><span>${p.nome}</span><span aria-hidden="true" class="text-[10px]">‚Üó</span></a></li>`).join('')}
          </ol>
        `;
        wrapper.appendChild(card);
      });

      // A√ß√£o: Marcar como iniciada
      wrapper.querySelectorAll('button[data-track]').forEach(btn => {
        btn.addEventListener('click', () => {
          const k = btn.getAttribute('data-track');
          addBadge(`Trilha: ${TRACKS[k].titulo}`);
          alert('Parab√©ns! Badge adicionada ao seu progresso.');
          updateChart();
        });
      });
    }

    // ======= QUIZ =======
    const quizEl = document.getElementById('quiz');
    const quizResult = document.getElementById('quizResult');
    quizEl.addEventListener('submit', (e) => {
      e.preventDefault();
      const data = new FormData(quizEl);
      const respostas = [data.get('q1'), data.get('q2'), data.get('q3'), data.get('q4')];
      const contagem = respostas.reduce((acc, cur) => { acc[cur] = (acc[cur]||0)+1; return acc; }, {});
      const area = Object.entries(contagem).sort((a,b)=>b[1]-a[1])[0][0];
      const trilha = TRACKS[area];
      quizResult.classList.remove('hidden');
      quizResult.innerHTML = `<strong>√Årea sugerida:</strong> ${trilha.titulo}. <br/>Siga esta trilha abaixo e marque seu progresso.`;
      localStorage.setItem('quizArea', area);
      document.getElementById('quiz').scrollIntoView({ behavior: 'smooth' });
    });

    document.getElementById('btnResetQuiz').addEventListener('click', () => {
      localStorage.removeItem('quizArea');
      quizEl.reset();
      quizResult.classList.add('hidden');
    });

    // ======= Q&A (LocalStorage) =======
    const qaForm = document.getElementById('qaForm');
    const qaList = document.getElementById('qaList');
    const qaFeedback = document.getElementById('qaFeedback');

    // Perguntas padr√£o (aparecem automaticamente na primeira visita)
    const SEED_QA = [
      {
        nome: 'Claudio',
        pergunta: 'Qual a diferen√ßa entre front-end e back-end?',
        resposta: 'Front-end √© o que o usu√°rio v√™ e interage (HTML, CSS, JS no navegador). Back-end √© o que roda no servidor cuidando de regras de neg√≥cio, banco de dados e APIs. Eles conversam via HTTP/APIs.'
      },
      {
        nome: 'Renata',
        pergunta: 'Preciso saber programar para trabalhar com TI?',
        resposta: 'N√£o necessariamente. H√° trilhas como suporte, infraestrutura, redes, QA, dados (an√°lise), seguran√ßa e gest√£o. Programar ajuda muito e abre portas, mas voc√™ pode come√ßar em √°reas com pouca ou nenhuma codifica√ß√£o e evoluir aos poucos.'
      },
      {
        nome: 'Bruno',
        pergunta: 'O que √© exatamente um servidor? √â um computador normal?',
        resposta: '√â um computador otimizado para oferecer servi√ßos pela rede (sites, APIs, banco de dados). Pode ser uma m√°quina f√≠sica no datacenter ou uma inst√¢ncia na nuvem. Apesar de ser ‚Äúum computador‚Äù, tem configura√ß√µes e responsabilidades pr√≥prias (disponibilidade, seguran√ßa, backups).'
      }
    ];

    function loadQA() {
      let items = JSON.parse(localStorage.getItem('qaItems') || '[]');
      if (!items.length) {
        // Primeira carga: sem nada salvo, semeia perguntas padr√£o
        items = SEED_QA.map(q => ({ ...q, data: new Date().toISOString() }));
        localStorage.setItem('qaItems', JSON.stringify(items));
      }
      qaList.innerHTML = items.map(item => {
        const hasAnswer = !!item.resposta;
        return `
        <li class="bg-slate-900/80 border border-slate-700 rounded-xl p-4 shadow">
          <p class="text-sm text-slate-100"><span class="font-semibold">${item.nome||'An√¥nimo'}:</span> ${item.pergunta}</p>
          ${hasAnswer ? `<details class="mt-2"><summary class="text-xs text-violet-300 cursor-pointer">Ver resposta</summary><p class="text-sm mt-2 text-slate-200">${item.resposta}</p></details>` : ''}
          <p class="text-xs text-slate-500 mt-1">${new Date(item.data).toLocaleString()}</p>
        </li>`;
      }).join('');
    }

    qaForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const data = new FormData(qaForm);
      const novo = {
        nome: data.get('nome'),
        pergunta: data.get('pergunta'),
        data: new Date().toISOString()
      };
      const items = JSON.parse(localStorage.getItem('qaItems') || '[]');
      items.unshift(novo);
      localStorage.setItem('qaItems', JSON.stringify(items));
      qaFeedback.classList.remove('hidden');
      qaForm.reset();
      loadQA();
      setTimeout(()=> qaFeedback.classList.add('hidden'), 2500);
    });

    // ======= BADGES & PROGRESSO =======
    const badgeList = document.getElementById('badgeList');
    function getBadges() { return JSON.parse(localStorage.getItem('badges')||'[]'); }
    function setBadges(b) { localStorage.setItem('badges', JSON.stringify(b)); }
    function addBadge(label) {
      const b = getBadges();
      if (!b.includes(label)) { b.push(label); setBadges(b); renderBadges(); }
    }
    function renderBadges() {
      const badges = getBadges();
      badgeList.innerHTML = badges.length ? badges.map(b => `
        <span class="px-3 py-1 text-xs rounded-full bg-violet-500/10 text-violet-200 border border-violet-400/60">${b}</span>`).join('')
      : '<span class="text-sm text-slate-400">Sem badges ainda ‚Äî inicie uma trilha.</span>';
    }

    // ======= CHART =======
    let chart;
    function updateChart() {
      const total = 5; // n√∫mero simb√≥lico de badges meta
      const done = getBadges().length;
      const rest = Math.max(total - done, 0);
      const ctx = document.getElementById('progressChart').getContext('2d');
      if (chart) chart.destroy();
      chart = new Chart(ctx, {
        type: 'doughnut',
        data: { labels: ['Conquistado', 'Faltante'], datasets: [{ data: [done, rest] }]},
        options: { responsive: true, plugins: { legend: { position: 'bottom' }}}
      });
    }

    // ======= INIT =======
    renderTracks();
    loadQA();
    renderBadges();
    updateChart();

    // Restaurar resultado do quiz, se houver
    const savedArea = localStorage.getItem('quizArea');
    if (savedArea && TRACKS[savedArea]) {
      const trilha = TRACKS[savedArea];
      quizResult.classList.remove('hidden');
      quizResult.innerHTML = `<strong>√Årea sugerida:</strong> ${trilha.titulo}. <br/>Siga esta trilha abaixo e marque seu progresso.`;
    }
  </script>
</body>
</html>
